<!-- html file for button page -->
<!DOCTYPE html>
<html>

<head>
  <title>User Details</title>
</head>

<body>
  <h1>User Details</h1>
  <p>Click on a button below to view details:</p>
  <div>
    <!-- <button id="posts-button"><a href="https://jsonplaceholder.typicode.com/posts?userId=1">Posts</a></button> -->
    <!-- <button class="post-button" data-userid="${id}">Posts</button> -->
    <button id="posts-button">Posts</button>
    <script>
      const tableBody = document.getElementById('table-body');
      const postsButtons = document.querySelectorAll('.posts-button');
      let userId = 0;
    
      fetch('https://jsonplaceholder.typicode.com/users')
        .then(response => response.json())
        .then(data => {
          data.forEach(user => {
            const { id, name, username, email, address, phone, website, company } = user;
    
            userId = id;
    
            postsButtons.forEach(button => {
              const newId = button.getAttribute('data-user-id');
    
              if (newId == userId) {
                button.addEventListener('click', () => {
                  displayPosts(newId);
                });
              }
            });
    
            console.log("This is user id: " + userId);
            console.log("This is user: ", user);
          });
        })
        .catch(error => {
          console.error('Error fetching users:', error);
        });
    
      function displayPosts(userId) {
        const url = `https://jsonplaceholder.typicode.com/posts?userId=${userId}`;
        window.open(url);
      }
    </script>
    
    <button id="comments-button">Comments</a></button>
    <button id="todos-button"><a href="https://jsonplaceholder.typicode.com/todos${userId}">Todos</a></button>
    <button id="albums-button"><a href="https://jsonplaceholder.typicode.com/albums${userId}">Albums</a></button>
  </div>

</html>

<!DOCTYPE html>
<html>
  <head>
    <title>User Details</title>
  </head>
  <body>
    <h1>User Details</h1>
    <p>Click on a button below to view details:</p>
    <div>
        <button id="posts-button">Posts</button>
        <button id="comments-button">Comments</button>
        <button id="todos-button">Todos</button>
        <button id="albums-button">Albums</button>
    </div>
    <script src="userAction.js"></script>
  </body>
</html>
